<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Catalogue – DGPE</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>

<!-- ================= NAVBAR ================= -->
<header class="navbar">
  <div class="wrap">
    <div class="logo-group">
      <!-- Vérifie que le chemin de l'image est correct -->
      <img src="assets/img/dgpe-logo.png" class="logo" alt="DGPE">
      <span class="brand">e-Learning</span>
    </div>

    <nav class="nav">
      <a href="index.html">Accueil</a>
      <a href="catalogue.html" class="active">Catalogue</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="login.html" class="pill">Déconnexion</a>
    </nav>
  </div>
</header>

<!-- ================= CONTENU ================= -->
<main class="page">
  <section class="panel">
    <h2>Catalogue des formations</h2>

    <!-- Barre de recherche -->
    <input
      id="searchInput"
      class="input"
      type="text"
      placeholder="Rechercher un module…"
    >
    <button class="btn" id="btnSearch">Rechercher</button>
  </section>

  <!-- ================= RÉSULTATS ================= -->
  <section class="panel" style="margin-top:16px;">
    <h3>Résultats</h3>
    <div id="modulesGrid" class="modules-grid"></div>
  </section>
</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  © 2025 DGPE – Direction Générale du Portefeuille de l’État
</footer>

<!-- ================= SCRIPT ================= -->
<script>
/* ================= DONNÉES CATALOGUE ================= */
const modules = [
  { id: 1, titre: "Gouvernance stratégique et analyse financière", duree: "4 jours", domaine: "Gouvernance" },
  { id: 2, titre: "Pilotage stratégique", duree: "4 jours", domaine: "Gouvernance" },
  { id: 3, titre: "Audit & conformité", duree: "3 jours", domaine: "Gouvernance" },
  { id: 4, titre: "Performance & KPI", duree: "2 jours", domaine: "Performance" },
  { id: 5, titre: "Transformation digitale", duree: "3 jours", domaine: "Digital" },
  { id: 6, titre: "IA & Décision", duree: "2 jours", domaine: "Digital" },
  { id: 7, titre: "Leadership", duree: "2 jours", domaine: "Leadership" },
  { id: 8, titre: "Communication de crise", duree: "2 jours", domaine: "Communication" },
  { id: 9, titre: "RSE : Concevoir et piloter une stratégie durable", duree: "3 jours", domaine: "RSE" },
  { id: 10, titre: "Manager le changement durable", duree: "2 jours", domaine: "Management" }
];

/* ================= AFFICHAGE ================= */
function afficherModules() {
  const grid = document.getElementById("modulesGrid");
  const search = document.getElementById("searchInput").value.toLowerCase();

  grid.innerHTML = "";

  const filtres = modules.filter(m =>
    m.titre.toLowerCase().includes(search)
  );

  if (filtres.length === 0) {
    grid.innerHTML = `<p class="muted">Aucun module trouvé, veuillez essayer avec un autre mot-clé.</p>`;
    return;
  }

  filtres.forEach(m => {
    grid.innerHTML += `
      <div class="card">
        <h3>${m.titre}</h3>
        <p class="muted">${m.domaine} • ${m.duree}</p>
        <a href="module.html?id=${m.id}" class="btn" style="margin-top:10px">
          Voir le module
        </a>
      </div>
    `;
  });
}

/* ================= EVENTS ================= */
document.getElementById("btnSearch").addEventListener("click", afficherModules);
document.getElementById("searchInput").addEventListener("input", afficherModules);

/* ================= AUTO LOAD ================= */
afficherModules();
</script>

</body>
</html>
